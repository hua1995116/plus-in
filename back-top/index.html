<!DOCTYPE html>
<html>
<head>
	<title></title>
<style>
body{
	background: #F00;
}
#aa{
	height: 4000px;
}
#bb{
	position: fixed;
	width: 40px;
	height: 40px;
	right: 10px;
	bottom: 10px;
	background: #ddd;
	display: none;
}
</style>
</head>
<body>
<div id="aa">
	
</div>
<div id="bb">
	
</div>
<script>

	
function backtop(obn,speed){
	var clientHeight = document.documentElement.clientHeight;
	var timer = null;
	var isTop = true;
	window.onscroll = function(){
		
		var osTop = document.documentElement.scrollTop||document.body.scrollTop;//IE、chrome
		console.log(clientHeight+","+osTop);
		if(osTop>=clientHeight){
			obn.style.display = 'block';
		}else{
			obn.style.display = "none";
		}
		if(!isTop){
			clearInterval(timer);
		}
		isTop = false;
	}
	obn.onclick=function  () {
		timer = setInterval(function(){
			var osTop = document.documentElement.scrollTop||document.body.scrollTop;//IE、chrome
			var ispeed = Math.floor(- osTop/speed);
			document.documentElement.scrollTop = document.body.scrollTop =osTop + ispeed;
			isTop = true;
			if(osTop == 0){
				clearInterval(timer);
			}
		});
	}
}
backtop(document.getElementById("bb"),35);
</script>
</body>
</html>